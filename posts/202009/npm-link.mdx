---
title: How to develop a project dependency while using it as a dependency in another project?
path: /project-dependency-npm-link
date: 2020-09-13
tags:
  - node
  - npm
---

Have you ever faced a situation where you are developing an npm package and want to test it in one of your projects where you are using that project as a dependency without releasing the package to npm?

The general workflow for the developers starting with developing a package is like:

1. Work on the changes required in the package on your machine.
2. Generate the assets which will be released to npm.
3. To test the generated assets on local without releasing on production, developers generally copy the generated assets and paste it into the node_modules of the project.

There is nothing wrong with the above workflow, but when you make changes to the package repeatedly, then publishing feels like a bit of a blocker in testing your package changes in your project as fast as possible.

### How should a good workflow look like?

You change anything in your library, and the library build gets triggered. Your project picks up those changes, and your project’s build gets triggered.

NPM provides a nifty command to manage the workflow mentioned above. That command is npm link [add a link to npm docs for options].

Let’s see the above workflow in action.

Clone this simple react hello world project from here.
Clone this simple lib from here.

If you have your own react project and library you are currently working on, you can try the workflow in your project.

Go into your library and do npm link. This command creates a symlink to the global node_modules folder. If you face problems with permissions, you can run the npm link command with sudo or change the global node_modules to another path that does not require root privileges.
Run your library in watch mode if there is a build step in your lib. If you are using the cloned repo from above, you can do it by npm run dev.
Go into your project and do npm link [your lib name]. This will create a symlink of the lib in your current project to the symlink in the global node_modules folder, which we created in the last step.
Run your project in watch mode.
